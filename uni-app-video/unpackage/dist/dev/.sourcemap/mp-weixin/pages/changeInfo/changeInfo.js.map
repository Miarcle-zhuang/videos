{"version":3,"sources":["webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?b7a9","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?f786","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?f96d","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?3b65","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?cb21","webpack:///D:/study/qianduan_study/uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue?ad9c"],"names":["data","imgSrc","user","name","id","intrduction","school","sex","birthday","region","currentId","methods","changeImg","uni","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","setStorage","key","getStorage","request","url","method","column","fail","console","log","bindChange","e","detail","value","target","bindRegionChange","item","onLoad","introduce"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyF;AAC3B;AACL;AACa;;;AAGtE;AAC8J;AAC9J,gBAAgB,sKAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAsuB,CAAgB,quBAAG,EAAC,C;;;;;;;;;;;;mICA1vB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdA,MADc,kBACP;AACN,WAAO;AACNC,YAAM,EAAE,mCADF;AAEN;AACAC,UAAI,EAAE;AACLC,YAAI,EAAE,SADD;AAELC,UAAE,EAAE,SAFC;AAGLC,mBAAW,EAAE,4BAHR;AAILC,cAAM,EAAE,EAJH;AAKLC,WAAG,EAAE,EALA;AAMLC,gBAAQ,EAAE,EANL;AAOLC,cAAM,EAAE,EAPH,EAHA;;AAYNH,YAAM,EAAC,CAAC,MAAD,EAAQ,MAAR,EAAe,MAAf,EAAsB,MAAtB,CAZD;AAaNC,SAAG,EAAE,CAAC,GAAD,EAAM,GAAN,CAbC;AAcN;AACAG,eAAS,EAAE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","file":"pages/changeInfo/changeInfo.js","sourcesContent":["import { render, staticRenderFns } from \"./changeInfo.vue?vue&type=template&id=2ed12d2f&\"\nimport script from \"./changeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./changeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changeInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\study\\\\qianduan_study\\\\HBuilderX.2.1.3.20190723.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2ed12d2f', component.options)\n    } else {\n      api.reload('2ed12d2f', component.options)\n    }\n    module.hot.accept(\"./changeInfo.vue?vue&type=template&id=2ed12d2f&\", function () {\n      api.rerender('2ed12d2f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uni-app_study/uni-app_code/uni-app-video/pages/changeInfo/changeInfo.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeInfo.vue?vue&type=template&id=2ed12d2f&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeInfo.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\timgSrc: '../../static/img/douyin_moren.png',\n\t\t\t// 记得设计数据的结构，也可以多考虑对象形式\n\t\t\tuser: {\n\t\t\t\tname: 'miracle',\n\t\t\t\tid: '1231444',\n\t\t\t\tintrduction: 'miracle love soar forever.',\n\t\t\t\tschool: '',\n\t\t\t\tsex: '',\n\t\t\t\tbirthday: '',\n\t\t\t\tregion: ''\n\t\t\t},\n\t\t\tschool:['清华大学','北京大学',\"复旦大学\",'南京大学'],\n\t\t\tsex: ['男', '女'],\n\t\t\t//用户存在缓存中的id\n\t\t\tcurrentId: ''\n\t\t}\n\t},\n\tmethods: {\n\t\tchangeImg() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, //默认1\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album'], //从相册选择\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.imgSrc = res.tempFilePaths[0];\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'headPortrait',\n\t\t\t\t\t\t\tdata: res.tempFilePaths[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tuni.getStorage({\n\t\t\t\t\t\t\tkey: \"userId\",\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t// 判断缓存中是否有userId数据\n\t\t\t\t\t\t\t\t// 且缓存没有时效性，只有自己进行清理，才会真正被清理\n\t\t\t\t\t\t\t\t//将用户的头像路径存储到数据库中\n\t\t\t\t\t\t\t\tlet id = res.data;\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: \"http://localhost:8088/user/update\",\n\t\t\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tdata: this.imgSrc,\n\t\t\t\t\t\t\t\t\t\tcolumn: 'userImg',\n\t\t\t\t\t\t\t\t\t\tcurrentId: id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\t//如果缓存中，没有存在userId,则需要向服务器请求userId,再发送post请求，存储头像路径\n\t\t\t\t\t\t\t\tconsole.log(\"缓存中无userId属性，发生了错误,请先选择头像~~~~\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbindChange(res, e) {\n\t\t\t//1、这里进行判断的原因是birthday从e中获取的方式不同，所以要进行区分\n\t\t\tif(res === 'birthday') {\n\t\t\t\tthis.user[res] = e.detail.value;\n\t\t\t\t\n\t\t\t\tconsole.log(this.user[res]);\n\t\t\t\t\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"http://localhost:8088/user/update\",\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdata: this.user[res],\n\t\t\t\t\t\tcolumn: 'birthday',\n\t\t\t\t\t\tcurrentId: this.currentId\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'birthday',\n\t\t\t\t\t\t\tdata: this.user[res]\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}else {\n\t\t\t\tthis.user[res] = this[res][e.target.value];\n\t\t\t\tconsole.log(e.detail.value);\n\t\t\t\t// console.log(this.user[res]);\n\t\t\t\t\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: res,\n\t\t\t\t\tdata: this.user[res]\t\t\t\t\n\t\t\t\t})\n\t\t\t\t// 判断缓存中是否有userId数据\n\t\t\t\t// 且缓存没有时效性，只有自己进行清理，才会真正被清理\n\t\t\t\t//将用户的头像路径存储到数据库中\n\t\t\t\tuni.request({\n\t\t\t\t\turl: \"http://localhost:8088/user/update\",\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tdata: this.user[res],\n\t\t\t\t\t\tcolumn: res,\n\t\t\t\t\t\tcurrentId: this.currentId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tbindRegionChange(e) {\n\t\t\tlet region = '';\n\t\t\tfor(let item of e.target.value) {\n\t\t\t\tregion += (item + ' ');\n\t\t\t}\n\t\t\t\n\t\t\tthis.user.region = region;\n\t\t\tuni.request({\n\t\t\t\turl: \"http://localhost:8088/user/update\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: {\n\t\t\t\t\tdata: this.user.region,\n\t\t\t\t\tcolumn: 'city',\n\t\t\t\t\tcurrentId: this.currentId\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(this.user.region);\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'region',\n\t\t\t\t\t\tdata: this.user.region\t\t\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tonLoad() {\n\t\tuni.getStorage({\n\t\t\tkey: \"userId\",\n\t\t\tsuccess: (res) => {\n\t\t\t\t// 判断缓存中是否有userId数据\n\t\t\t\t// 且缓存没有时效性，只有自己进行清理，才会真正被清理\n\t\t\t\t//将用户的头像路径存储到数据库中\n\t\t\t\tthis.currentId = res.data;\n\t\t\t\t// console.log(this.currentId);//123456\n\t\t\t}\n\t\t})\n\t\t// 这个挺常用的\n\t\tlet user = ['userName', 'userId', 'intrduction', 'headPortrait', 'sex', 'birthday', 'school', 'region'];\n\t\tfor(let item of user) {\n\t\t\t//console.log(item);\n\t\t\tif(item === 'intrduction') {\n\t\t\t\tuni.getStorage({\n\t\t\t\t\tkey: \"userId\",\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t// 判断缓存中是否有userId数据\n\t\t\t\t\t\t// 且缓存没有时效性，只有自己进行清理，才会真正被清理\n\t\t\t\t\t\t//将用户的头像路径存储到数据库中\n\t\t\t\t\t\tlet id = res.data;\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: \"http://localhost:8088/user\",\n\t\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tdata: id,\n\t\t\t\t\t\t\t\tcolumn: 'userId'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tthis.user.intrduction = res.data[0].introduce;\n\t\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t\t\tkey: \"intrduction\",\n\t\t\t\t\t\t\t\t\tdata: this.user.intrduction\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t//如果缓存中，没有存在userId,则需要向服务器请求userId,再发送post请求，存储头像路径\n\t\t\t\t\t\tconsole.log(\"缓存中无userId属性，发生了错误,请先选择头像~~~~\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}else {\n\t\t\t\tuni.getStorage({\n\t\t\t\t\tkey: item,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tswitch (item){\n\t\t\t\t\t\t\tcase 'userName':\n\t\t\t\t\t\t\t\tthis.user.name = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'userId':\n\t\t\t\t\t\t\t\tthis.user.id = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'intrduction':\n\t\t\t\t\t\t\t\tthis.user.intrduction = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'headPortrait':\n\t\t\t\t\t\t\t\tthis.imgSrc = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'sex':\n\t\t\t\t\t\t\t\tthis.user.sex = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'birthday':\n\t\t\t\t\t\t\t\tthis.user.birthday = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'school':\n\t\t\t\t\t\t\t\tthis.user.school = res.data;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'region':\n\t\t\t\t\t\t\t\tlet region = '';\n\t\t\t\t\t\t\t\tfor(let item of res.data) {\n\t\t\t\t\t\t\t\t\tregion += (item + ' ');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.user.region = region;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.1.3.20190723.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeInfo.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}